<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ultra Realistic Indian Flag</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%);
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }

    .flag-container {
        position: relative;
        width: 400px;
        height: 260px;
        perspective: 1000px; /* Essential for 3D depth */
        transform-style: preserve-3d;
    }

    /* The Flagpole */
    .pole {
        position: absolute;
        left: -10px;
        top: -20px;
        width: 12px;
        height: 500px;
        background: linear-gradient(to right, #434343, #888, #434343);
        border-radius: 5px;
        z-index: 10;
        box-shadow: -5px 5px 10px rgba(0,0,0,0.4);
    }
    .pole::before {
        content: '';
        position: absolute;
        top: -15px;
        left: -4px;
        width: 20px;
        height: 20px;
        background: radial-gradient(circle at 40% 40%, #ffd700, #b8860b);
        border-radius: 50%;
    }

    /* This class is applied to every tiny "slice" of the flag.
       We create the flag by lining up 50 of these slices.
    */
    .flag-segment {
        position: absolute;
        top: 0;
        height: 100%;
        /* The width will be calculated by JS (e.g., 400px / 50 slices = 8px) */
        background-image: url('https://upload.wikimedia.org/wikipedia/en/4/41/Flag_of_India.svg'); 
        background-size: 400px 100%; /* Ensure background covers the full theoretical width */
        background-repeat: no-repeat;
        
        /* Physics Animation */
        animation: wave-motion 1.5s ease-in-out infinite alternate;
        transform-style: preserve-3d;
    }

    /* The Keyframe Animation 
       This moves each slice up/down and rotates it to create the "S-curve" of fabric.
    */
    @keyframes wave-motion {
        0% {
            transform: translate3d(0, 0, 0) rotateY(0deg);
            filter: brightness(100%); /* Normal light */
        }
        50% {
             /* Peak of the wave: moves slightly up and rotates */
            transform: translate3d(0, -8px, 15px) rotateY(6deg);
            filter: brightness(110%); /* Highlight on the curve */
        }
        100% {
            /* Trough of the wave: moves down and rotates back */
            transform: translate3d(0, 8px, -15px) rotateY(-6deg);
            filter: brightness(90%); /* Shadow in the fold */
        }
    }

</style>
</head>
<body>

    <div class="flag-container" id="flag">
        <div class="pole"></div>
        </div>

<script>
    // Configuration
    const flagContainer = document.getElementById('flag');
    const flagWidth = 400;  // Width of the flag in px
    const slices = 60;      // How many strips to cut the flag into (Higher = smoother)
    
    const sliceWidth = flagWidth / slices;

    // Generate the Slices
    for (let i = 0; i < slices; i++) {
        const div = document.createElement('div');
        div.className = 'flag-segment';
        
        // 1. Set the width and position of this slice
        div.style.width = sliceWidth + 'px';
        div.style.left = (i * sliceWidth) + 'px';
        
        // 2. Shift the background image so this slice shows the correct part of the flag
        div.style.backgroundPosition = `-${i * sliceWidth}px 0`;

        // 3. THE PHYSICS: Add a delay to the animation
        // The delay increases as we go right, creating the "traveling wave" effect.
        div.style.animationDelay = `${i * 0.05}s`; // 0.05s delay per slice
        
        flagContainer.appendChild(div);
    }
</script>

</body>
</html>
